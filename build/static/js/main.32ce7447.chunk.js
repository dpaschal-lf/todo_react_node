(this.webpackJsonptodo_react_node=this.webpackJsonptodo_react_node||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(20),l=a.n(o),s=(a(29),a(5)),i=a(6),r=a(8),m=a(7),d=a(9),u=(a(30),a(11)),p=a(12),h=a(2);function f(e){return["january","february","march","april","may","june","july","august","september","october","november","december"][e.getMonth()-1]}function b(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()]}function v(e){switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}var y=function(e){var t=new Date(e.data.added),a="".concat(b(t),", ").concat(f(t)," ").concat(t.getDate()).concat(v(t.getDate()),", ").concat(t.getFullYear());return c.a.createElement(u.b,{to:"/details/".concat(e.data.id),className:"todoListItem row"},c.a.createElement("div",{className:"title col-sm-5"},e.data.title),c.a.createElement("div",{className:"added col-sm-5"},a),c.a.createElement("div",{className:"controlArea col-sm-2"},c.a.createElement("input",{onClick:function(e){return e.stopPropagation()},onChange:function(t){t.stopPropagation();var a=t.target.checked?"completed":"active";e.completeUpdateCallback(e.data.id,a)},type:"checkbox",checked:"completed"===e.data.completed?"checked":""})))},k=function(e){var t=e.headers.get("userToken");t&&(localStorage.userToken=t)},E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).changeItemComplete=a.changeItemComplete.bind(Object(h.a)(a)),a.state={data:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadListData()}},{key:"changeItemComplete",value:function(e,t){var a=this;fetch("/api/items/"+e,{method:"PUT",body:JSON.stringify({id:e,completed:t}),headers:{token:localStorage.getItem("userToken"),"Content-Type":"application/json"}}).then((function(e){k(e),a.loadListData()}))}},{key:"loadListData",value:function(){var e=this;fetch("/api/items",{headers:{token:localStorage.getItem("userToken")}}).then((function(e){return k(e),e.json()})).then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,this.state.data.length?this.state.data.map((function(t){return c.a.createElement(y,{data:t,key:t.id,completeUpdateCallback:e.changeItemComplete})})):"no data available")}}]),t}(c.a.Component),g=(a(36),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).close=a.close.bind(Object(h.a)(a)),a.state={data:{},display:a.props.display},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.display!==this.props.display&&this.setState({display:this.props.display})}},{key:"close",value:function(){this.props.closeCallback(),this.setState({display:!1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"modal shadow",style:{display:this.props.display?"block":"none"}},c.a.createElement("div",{className:"body"},c.a.createElement("div",{className:"close",onClick:this.close},"X"),c.a.createElement("div",{className:"content"},this.props.children)))}}]),t}(c.a.Component)),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).hideModal=a.hideModal.bind(Object(h.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a.edit=a.edit.bind(Object(h.a)(a)),a.state={data:{},modalMessage:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/items/"+this.props.match.params.id,{headers:{token:localStorage.getItem("userToken")}}).then((function(e){return k(e),e.json()})).then((function(t){e.setState({data:t})}))}},{key:"hideModal",value:function(){this.setState({modalMessage:null})}},{key:"confirmDelete",value:function(){this.setState({modalMessage:c.a.createElement(c.a.Fragment,null,"You are about to delete ",c.a.createElement("em",null,this.state.data.title),c.a.createElement("p",null,"Are you sure?"),c.a.createElement("span",{className:"button",onClick:this.handleDelete},"Delete"),c.a.createElement("span",{onClick:this.hideModal,className:"button"},"Cancel"))})}},{key:"handleDelete",value:function(){var e=this;fetch("/api/items/"+this.props.match.params.id,{method:"DELETE",headers:{token:localStorage.getItem("userToken")}}).then((function(t){k(t),e.props.history.push("/list")}))}},{key:"edit",value:function(){this.props.history.push("/edit/"+this.props.match.params.id)}},{key:"render",value:function(){var e=new Date(this.state.data.added),t="".concat(b(e),", ").concat(f(e)," ").concat(e.getDate()).concat(v(e.getDate()),", ").concat(e.getFullYear());return c.a.createElement("div",{className:"details justify-content-around"},c.a.createElement("div",{className:"titleControls row text-light bg-dark"},c.a.createElement("div",{className:"title col-6 h3 align-middle"},this.state.data.title),c.a.createElement("div",{className:"controls col-6 form-group"},c.a.createElement("label",{className:"col-4"},"Complete:",c.a.createElement("input",{value:"completed",name:"completed",className:"completeCheckbox",type:"checkbox"})),c.a.createElement("div",{className:"btn btn-danger col-4",onClick:this.confirmDelete},"Delete"),c.a.createElement("div",{className:"btn col-4 btn-info",onClick:this.edit},c.a.createElement("i",{className:"fa fa-edit"})))),c.a.createElement("div",{name:"description",className:"description blockquote border"},this.state.data.description),c.a.createElement("div",null,t),c.a.createElement(g,{closeCallback:this.hideModal,display:null!==this.state.modalMessage},this.state.modalMessage))}}]),t}(c.a.Component),O=a(23);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).updateFormElement=a.updateFormElement.bind(Object(h.a)(a)),a.saveItem=a.saveItem.bind(Object(h.a)(a)),a.cancelItem=a.cancelItem.bind(Object(h.a)(a)),a.state={form:{title:"",description:""},edit:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.id&&fetch("/api/items/"+this.props.match.params.id,{headers:{token:localStorage.getItem("userToken")}}).then((function(e){return k(e),e.json()})).then((function(t){e.setState({form:{title:t.title,description:t.description,completed:t.completed},edit:!0})}))}},{key:"updateFormElement",value:function(e){var t=e.target,a=t.getAttribute("name"),n=t.value,c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state.form);c[a]=n,this.setState({form:c})}},{key:"cancelItem",value:function(){this.props.history.push("/list")}},{key:"saveItem",value:function(){this.state.edit?this.putItem():this.postItem()}},{key:"postItem",value:function(){var e=this;fetch("/api/items/",{method:"POST",body:JSON.stringify(this.state.form),headers:{token:localStorage.getItem("userToken"),"Content-Type":"application/json"}}).then((function(t){k(t),e.props.history.push("/list")}))}},{key:"putItem",value:function(){var e=this;fetch("/api/items/"+this.props.match.params.id,{method:"PUT",body:JSON.stringify(this.state.form),headers:{token:localStorage.getItem("userToken"),"Content-Type":"application/json"}}).then((function(t){k(t),e.props.history.push("/list")}))}},{key:"render",value:function(){return this.state.edit?c.a.createElement("div",{className:"create-edit edit"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group col-8"},c.a.createElement("input",{onChange:this.updateFormElement,type:"text",name:"title",value:this.state.form.title,className:"title form-control",placeholder:"title"})),c.a.createElement("div",{className:"form-group col-2"},c.a.createElement("input",{id:"completedCheckBox",value:"completed",name:"completed",className:"completeCheckbox form-check-input col-4",type:"checkbox"}),c.a.createElement("label",{for:"completedCheckbox",className:"col-8 form-check-label"},"Complete"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group col-8"},c.a.createElement("textarea",{onChange:this.updateFormElement,name:"description",value:this.state.form.description,className:"description form-control",placeholder:"description"})),c.a.createElement("div",{className:"form-group col-4"},c.a.createElement("div",{onClick:this.saveItem,className:"btn btn-success saveButton"},"save"),c.a.createElement("div",{onClick:this.cancelItem,className:"cancelButton btn btn-warning"},"cancel")))):c.a.createElement("div",{className:"create-edit create"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group col-12"},c.a.createElement("input",{onChange:this.updateFormElement,type:"text",name:"title",value:this.state.form.title,className:"title form-control",placeholder:"title"}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"form-group col-8"},c.a.createElement("textarea",{onChange:this.updateFormElement,name:"description",value:this.state.form.description,className:"description form-control",placeholder:"description"})),c.a.createElement("div",{className:"form-group col-4"},c.a.createElement("div",{onClick:this.saveItem,className:"btn btn-success saveButton"},"save"),c.a.createElement("div",{onClick:this.cancelItem,className:"cancelButton btn btn-warning"},"cancel"))))}}]),t}(c.a.Component),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).menu={list:[c.a.createElement(u.b,{className:"navLink btn btn-success",key:"create",to:"/create"},c.a.createElement("i",{className:"fa fa-plus"}))],create:[c.a.createElement(u.b,{className:"navLink btn btn-primary",key:"list",to:"/list"},"Back")],details:[c.a.createElement(u.b,{className:"navLink btn btn-primary",key:"list",to:"/list"},"Back")]},a.menu[""]=a.menu.list,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname.split("/"),t=this.menu[e[1]];return c.a.createElement("div",{className:"todoApp"},c.a.createElement("h1",null,"Todo App"),c.a.createElement("div",{id:"nav"},t),c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:["/","/list"],component:E}),c.a.createElement(p.a,{path:"/create",component:C}),c.a.createElement(p.a,{path:"/edit/:id",component:C}),c.a.createElement(p.a,{path:"/details/:id",component:j})),c.a.createElement("footer",null))}}]),t}(c.a.Component),w=Object(p.f)(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(u.a,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.32ce7447.chunk.js.map